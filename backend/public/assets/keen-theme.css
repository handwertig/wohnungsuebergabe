/* === Keen "Start"-inspired theme layer for Bootstrap ===
 * Ziel: kräftiges, klares UI mit Poppins, großen Cards, klaren Abständen,
 *       Primary-Blau (#3E97FF), Success-Grün (#17C653), Danger-Pink (#F1416C),
 *       Warning (#FFC700), Info-Lila (#7239EA), Graustufen & softer Schatten.
*/

/* 0) Font */
:root {
  --kt-font-sans: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* 1) Farbpalette */
:root {
  --kt-primary:  #3E97FF;
  --kt-success:  #17C653;
  --kt-danger:   #F1416C;
  --kt-warning:  #FFC700;
  --kt-info:     #7239EA;

  --kt-gray-900: #0B1437;
  --kt-gray-800: #151E41;
  --kt-gray-700: #263163;
  --kt-gray-600: #3D4B7C;
  --kt-gray-500: #5F6B99;
  --kt-gray-400: #8C96BD;
  --kt-gray-300: #B7BFE0;
  --kt-gray-200: #E3E7F5;
  --kt-gray-100: #F5F7FD;
  --kt-white:    #ffffff;

  /* Bootstrap Vars Override */
  --bs-body-bg:       var(--kt-gray-100);
  --bs-body-color:    var(--kt-gray-900);
  --bs-primary:       var(--kt-primary);
  --bs-success:       var(--kt-success);
  --bs-danger:        var(--kt-danger);
  --bs-warning:       var(--kt-warning);
  --bs-info:          var(--kt-info);
  --bs-link-color:    var(--kt-primary);
  --bs-link-hover-color: #2378e9;
  --bs-border-radius: .75rem;
  --bs-border-radius-lg: 1rem;
  --bs-border-radius-xl: 1.25rem;
}

/* 2) Dark Mode (auto oder via html[data-theme="dark"]) */
@media (prefers-color-scheme: dark) {
  :root:not([data-force-light]) {
    --bs-body-bg:       #0E1227;
    --bs-body-color:    #E6E9F2;
    --kt-gray-100:      #141832;
    --kt-gray-200:      #1A2041;
    --kt-gray-300:      #21285a;
    --kt-gray-400:      #4e5a87;
    --kt-gray-500:      #8090b9;
    --kt-gray-900:      #e6e9f2;
  }
}
html[data-theme="dark"] :root {
  --bs-body-bg:       #0E1227;
  --bs-body-color:    #E6E9F2;
  --kt-gray-100:      #141832;
  --kt-gray-200:      #1A2041;
  --kt-gray-300:      #21285a;
  --kt-gray-400:      #4e5a87;
  --kt-gray-500:      #8090b9;
  --kt-gray-900:      #e6e9f2;
}

/* 3) Typo */
body { font-family: var(--kt-font-sans); font-weight: 400; letter-spacing: .01em; }
h1,h2,h3,h4 { font-weight: 600; color: var(--kt-gray-900); }
.small, .form-text { color: var(--kt-gray-500); }

/* 4) Layout: Sidebar + Topbar */
.kt-app {
  display: grid;
  grid-template-columns: 260px 1fr;
  grid-template-rows: 64px calc(100vh - 64px);
  grid-template-areas:
    "aside topbar"
    "aside main";
  min-height: 100vh;
}
.kt-aside { grid-area: aside; background: var(--kt-white); box-shadow: 0 0 0 1px rgba(15,23,42,.05), 0 10px 30px rgba(15,23,42,.06); }
.kt-topbar { grid-area: topbar; background: var(--kt-white); display:flex; align-items:center; padding: 0 .75rem; box-shadow: 0 0 0 1px rgba(15,23,42,.05), 0 6px 24px rgba(15,23,42,.05); }
.kt-main { grid-area: main; padding: 1.25rem; }

@media (max-width: 992px) {
  .kt-app { grid-template-columns: 1fr; grid-template-rows: 56px auto; grid-template-areas:
    "topbar" "main"; }
  .kt-aside { position: fixed; inset: 0 40% 0 0; transform: translateX(-100%); transition: transform .25s ease; z-index: 1040; }
  .kt-aside.show { transform: translateX(0); }
}

/* 5) Aside Nav */
.kt-brand {
  display:flex; align-items:center; gap:.5rem; height:64px; padding:0 1rem; border-bottom:1px solid var(--kt-gray-200);
  font-weight:700;
}
.kt-brand .logo { width:28px; height:28px; border-radius:8px; background: linear-gradient(135deg, var(--kt-primary), #7aaeff); display:inline-block; }
.kt-nav { list-style:none; margin:0; padding: .75rem; }
.kt-nav a {
  display:flex; align-items:center; gap:.75rem;
  padding:.6rem .8rem; border-radius:.6rem; color: var(--kt-gray-700); text-decoration:none; font-weight:500;
}
.kt-nav a:hover { background: var(--kt-gray-200); color: var(--kt-gray-900); }
.kt-nav a.active { background: rgba(62,151,255,.12); color: #1a4fa3; }

/* 6) Topbar */
.kt-topbar .kt-actions { margin-left:auto; display:flex; align-items:center; gap:.5rem; }
.btn-ghost {
  background: transparent; border:1px solid rgba(15,23,42,.08); color: var(--kt-gray-700);
}
.btn-ghost:hover { background: var(--kt-gray-200); }

/* 7) Cards */
.card { border:0; background: var(--kt-white); border-radius: 1rem; box-shadow: 0 8px 24px rgba(15,23,42,.08); }
.card-header { background: linear-gradient(180deg, rgba(62,151,255,.05), rgba(255,255,255,0)); border:0; border-radius: 1rem 1rem 0 0; }

/* 8) Buttons */
.btn-primary { background: var(--kt-primary); border:0; box-shadow: 0 8px 18px rgba(62,151,255,.28); }
.btn-primary:hover { filter: brightness(.95); }
.btn-outline-primary { color: var(--kt-primary); border-color: rgba(62,151,255,.5); }
.btn-outline-primary:hover { background: rgba(62,151,255,.08); }

/* 9) Forms */
.form-control,.form-select { border-color: rgba(15,23,42,.12); border-radius: .75rem; }
.form-control:focus,.form-select:focus {
  border-color: rgba(62,151,255,.6);
  box-shadow: 0 0 0 .2rem rgba(62,151,255,.15);
}

/* 10) Tables */
.table thead th { background: var(--kt-gray-100); border-bottom:0; color: var(--kt-gray-600); }
.table { overflow:hidden; border-radius: .75rem; }

/* 11) Badges */
.badge { font-weight:600; }
.badge.bg-success { background: linear-gradient(180deg,#1fd171,#12a74f)!important; }
.badge.bg-danger { background: linear-gradient(180deg,#ff5c8a,#de2b5b)!important; }
.badge.bg-warning { color:#3a2a00; }

/* 12) Accordion */
.accordion-button { background: var(--kt-white); border-radius: .75rem!important; margin-bottom:.5rem; box-shadow: 0 1px 2px rgba(15,23,42,.06); }

/* 13) Utilities */
.shadow-md { box-shadow: 0 8px 24px rgba(15,23,42,.08)!important; }
.rounded-xl { border-radius: 1.25rem!important; }

/* === UI Polish ========================================================== */

/* 1) Accordion komplett ohne Rahmen */
.accordion,
.accordion-item,
.accordion-collapse {
  border: 0 !important;
}
.accordion-button {
  border: 0 !important;
  box-shadow: 0 1px 2px rgba(15,23,42,.06);
}
.accordion-button:focus {
  box-shadow: 0 0 0 0 rgba(0,0,0,0) !important;
}
.accordion-body {
  padding-top: .5rem;
}

/* 2) Sticky Action Bar (immer sichtbar, wie bei Keen aber besser erreichbar) */
.kt-sticky-actions {
  position: sticky;
  bottom: 0;
  z-index: 100;
  background: var(--kt-white);
  border-top: 1px solid rgba(15,23,42,.08);
  padding: .75rem 1rem;
  margin-top: 1rem;
  display: flex;
  gap: .5rem;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 -6px 18px rgba(15,23,42,.06);
  border-bottom-left-radius: var(--bs-border-radius-lg);
  border-bottom-right-radius: var(--bs-border-radius-lg);
}
@media (prefers-color-scheme: dark) {
  html:not([data-theme="light"]) .kt-sticky-actions {
    background: var(--kt-gray-100);
    border-top-color: rgba(230,233,242,.08);
    box-shadow: 0 -8px 18px rgba(0,0,0,.25);
  }
}

/* 3) Buttons / Spacing / Inputs Feinschliff */
.btn { font-weight: 600; letter-spacing: .01em; }
.btn-lg { padding:.75rem 1.25rem; border-radius: 1rem; }
.form-label { font-weight: 600; color: var(--kt-gray-700); }
.form-control::placeholder { color: var(--kt-gray-400); }

/* 4) Karten etwas luftiger */
.card { border-radius: 1rem; }
.card-body { padding: 1.25rem 1.25rem; }
.card-header { padding: .9rem 1.25rem; }

/* 5) Tabellen – Header sticky optional */
.table thead th { position: sticky; top: 0; z-index: 5; }

/* 6) Chips/Badges minimal runder */
.badge { border-radius: 999px; padding:.4rem .6rem; }

/* 7) Links in Topbar */
.kt-topbar a.btn { border-radius:.6rem; }

/* 8) Wizard Headings straffer */
#tab-kopf h6, #tab-raeume h6, #tab-zaehler h6, #tab-schluessel h6 { font-weight:700; }

/* 9) Dichte Formular-Gruppen (untereinander etwas mehr Luft) */
.kt-main .row.g-3 > [class^="col-"] + [class^="col-"] { margin-top: .15rem; }

/* 10) Kleinere Alert-Schrift im Wizard-Footer, wenn nötig */
.kt-sticky-actions .alert { margin:0; padding:.5rem .75rem; }
